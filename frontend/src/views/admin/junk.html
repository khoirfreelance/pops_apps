<!-- Button Group -->
          <div class="container-fluid mt-4">
            <!-- Expand/Collapse Button -->
            <div class="d-flex justify-content-between">
              <h5 class="fw-bold text-success mb-3">Ringkasan Statistik</h5>
              <div class="mb-3">
                <button
                  type="button"
                  class="btn btn-outline-primary mx-3"
                  @click="toggleExpandForm"
                >
                  <i :class="isFormOpen ? 'bi bi-dash-square' : 'bi bi-plus-square'"></i>
                  {{ isFormOpen ? 'Tutup Form' : 'Unggah Data' }}
                </button>
              </div>
            </div>

            <!-- Collapsible Form -->
            <div class="card shadow-sm" v-if="isFormOpen">
              <div class="card-body">
                <label class="form-label fw-semibold">Upload Data Anak (CSV)</label>
                <div
                  class="dropzone-full position-relative p-4 rounded-3 border text-center"
                  :class="{
                    'border-primary bg-light': isDataDrag,
                    'border-danger': fileError
                  }"
                  @click="triggerFileDialog"
                  @dragover.prevent="onDragOver"
                  @dragleave.prevent="onDragLeave"
                  @drop.prevent="handleDrop($event)"
                  role="button"
                  tabindex="0"
                  @keydown.enter.prevent="triggerFileDialog"
                  @keydown.space.prevent="triggerFileDialog"
                >
                  <i class="bi bi-cloud-upload fs-1 text-primary"></i>
                  <p class="mb-1 fw-medium">Drag & drop file CSV di sini</p>
                  <small class="text-muted">atau klik untuk pilih file</small>

                  <!-- Invisible input (terikat ke parent relatif) -->
                  <input
                    ref="fileInput"
                    type="file"
                    accept=".csv,text/csv"
                    class="position-absolute w-100 h-100 top-0 start-0 opacity-0"
                    @change="handleFileChange($event)"
                  />
                </div>

                <!-- Preview / status -->
                <div class="mt-3 d-flex align-items-center justify-content-between flex-wrap gap-2">
                  <div v-if="file">
                    <div><strong>Nama:</strong> {{ fileName }}</div>
                    <div><strong>Ukuran:</strong> {{ humanFileSize(fileSize) }}</div>
                    <div v-if="filePreviewLines" class="text-muted small">Contoh baris pertama: <code>{{ filePreviewLines }}</code></div>
                  </div>

                  <div v-else class="text-muted small">Belum ada file dipilih</div>

                  <div class="d-flex gap-2">
                    <button
                      v-if="file && !uploading"
                      class="btn btn-outline-danger btn-sm"
                      @click="removeFile"
                      type="button"
                    >
                      <i class="bi bi-trash me-1"></i> Hapus
                    </button>

                    <button
                      v-if="file && !uploading"
                      class="btn btn-success btn-sm"
                      @click="uploadCSV"
                      type="button"
                    >
                      <i class="bi bi-upload me-1"></i> Upload
                    </button>

                    <div v-if="uploading" class="d-flex align-items-center gap-2">
                      <div class="spinner-border spinner-border-sm text-primary" role="status"></div>
                      <small class="text-muted">Mengunggah... {{ uploadProgress }}%</small>
                    </div>
                  </div>
                </div>

                <!-- Error message -->
                <div v-if="fileError" class="mt-2 text-danger small">
                  {{ fileError }}
                </div>
              </div>
            </div>

          </div>










